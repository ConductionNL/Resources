{# templates/home/index.html.twig #}

{% extends 'base.html.twig' %}

{% block content %}
</div>
{% if application is defined and application.defaultConfiguration.configuration.headerimg is defined and application.defaultConfiguration.configuration.headerimg is not empty  %}
    {% set headerimg = commonground_resource(application.defaultConfiguration.configuration.headerimg) %}
<div class="row content-background background--donkergeel headerImage" style="background: url(data:image/file;base64,{{headerimg['base64']}})">
    {% else %}
    <div class="row content-background background--donkergeel" style="margin-top: -20px; height: 500px; margin-top: 0px; background: url(https://images.unsplash.com/photo-1547499681-28dece7dba00?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80) !important; background-size: cover !important;">
        {% endif %}
        <div class="container" style="height: 500px; position: relative;">
            <div  style=" position: absolute; bottom: 15px; right: 15px; padding: 15px; margin: 0; background-color: #FFBC2C">
                <h1>Nieuws</h1>
                <ul class="list list--links list--chevrons">
                    {% if application.defaultConfiguration.configuration.nieuws is defined %}
                        {% set nieuws = commonground_resource(application.defaultConfiguration.configuration.nieuws) %}
                        {% set templates = commonground_resource_list({'component': 'wrc', 'type': 'templates'},{'templateGroups.id':nieuws.id,'limit':4,'order[dateCreated]':'desc'})['hydra:member'] %}
                        {% for template in templates %}
                            <li><a href="/article?id={{ template.id }}" style="text-decoration: none;">{{ template.title }}</a></li>
                        {% endfor %}
                    {% endif %}
                </ul>
            </div>
        </div>
    </div>
    <div class="container" style="margin-top: 50px; margin-bottom: 0;">
        <div class="processen">
            <ul>
                <li>
                    <a href="/education/programs">
                        <i style="color: black; font-size: 2em;" class="fas fa-chalkboard-teacher processIcon"></i>
                        <br>
                        <span class="card__title" style="color: black;">Tutorials</span>
                    </a>
                </li>
                <li>
                    <a href="/stages">
                        <i style="color: black; font-size: 2em;"  class="fas fa-briefcase processIcon"></i>
                        <br>
                        <span class="card__title" style="color: black;">Stage plaatsen</span>
                    </a>
                </li>
                <li>
                    <a href="/challenges">
                        <i style="color: black; font-size: 2em;" class="fas fa-exclamation processIcon"></i>
                        <br>
                        <span class="card__title" style="color: black;">Challenges</span>
                    </a>
                </li>
                <li>
                    <a href="/oplossingen">
                        <i style="color: black; font-size: 2em;" class="fas fa-lightbulb processIcon"></i>
                        <br>
                        <span class="card__title" style="color: black;">Oplossingen</span>
                    </a>
                </li>
            </ul>
        </div>
    </div>
    {% if application is defined and application.defaultConfiguration.configuration.newsimg is defined and application.defaultConfiguration.configuration.newsimg is not empty  %}
    {% set newsimg = commonground_resource(application.defaultConfiguration.configuration.newsimg) %}
    <div class="newsImage"  style="background: url(data:image/file;base64,{{newsimg['base64']}});">
        {% else %}
        <div  style=" margin-top: 50px; padding: 25px; background: url(https://images.unsplash.com/photo-1563122089-71f56e4e8d06?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80) !important; background-size: cover !important;">
            {% endif %}
            <div class="container" style="display: flex; justify-content: space-between; padding-top: 5px; padding-bottom: 5px;">
                {% if application.defaultConfiguration.configuration.nieuws is defined %}
                    {% set nieuws = commonground_resource(application.defaultConfiguration.configuration.nieuws) %}
                    {% set templates = commonground_resource_list({'component': 'wrc', 'type': 'templates'},{'templateGroups.id':nieuws.id,'limit':4, 'order[dateCreated]':'desc'})['hydra:member'] %}
                    {% set value = 1 %}
                    {% for template in templates %}
                        <div class="newsCard" id="news-{{ value }}" style="position: relative">
                            <h2>{{ template.title }}</h2>
                            <p>
                                {{ template.description }}
                            </p>
                            <a href="/article?id={{ template.id }}" style="position: absolute; bottom: 15px; right: 15px;">lees meer</a>
                        </div>
                        {% set value = value + 1 %}
                    {% endfor %}
                {% endif %}
            </div>
        </div>



{% endblock %}
