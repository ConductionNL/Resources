{# templates/home/index.html.twig #}

{% extends 'base.html.twig' %}

{% block content %}
    <h1>Studenten</h1>
    <div class="row">
        <div class="col-sm-8">
            {% if user is defined and user is not null %}
                {% set studenten = commonground_resource_list({'component': 'edu', 'type': 'participants'},{'order[dateModified]':'desc'})['hydra:member'] %}
                {% if studenten is not empty %}
                <ul class="list list--card list--card-small">
                    {% for student in studenten %}
                        {% set person = commonground_resource(student.person) %}
                        <li class="card card--small">
                            <div class="card__content">
                                <div class="card__thumb" style="background-image: url('https://picsum.photos/200')"></div>
                                <div class="card__body">
                                    <div class="row" style=" height: 100%; width: 100%;">
                                        <div class="col-sm-8" style="padding-right: 0px;">
                                            {% if person['@type'] == 'Ingeschrevenpersoon' %}
                                                <span class="card__title">{{ person.naam.voornamen }} {{ person.naam.geslachtsnaam }}</span><br>
                                                <span>{{ person.naam.aanschrijfwijze }}</span>
                                            {% elseif person['@type'] == 'Person' %}
                                                <span class="card__title">{{ person.name }}</span><br>
                                                <span>{{ person.formalName }}</span>
                                            {% else %}
                                                <span class="card__title">{{ person.name }}</span><br>
                                            {% endif %}
                                        </div>
                                        <div class="col-sm-4">
                                            <div style="float: right;">
                                                <div style="display: flex; flex-direction: column; justify-items: center;">
                                                    <a href="{{ path('app_education_student', {id: student.id}) }}">lees meer</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </li>
                    {% endfor %}
                    {% else %}
                        <p>Er zijn op dit moment geen studenten.</p>
                    {% endif %}
                </ul>
            {% else %}
                <h2>U moet eerst inloggen voordat u deze pagina kunt bekijken!</h2>
            {% endif %}
        </div>
    </div>
{% endblock %}
